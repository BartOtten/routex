<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.40.0">
    <meta name="project" content="Routex v1.3.2">


    <title>Release Notes — Routex v1.3.2</title>

    <link rel="stylesheet" href="dist/html-elixir-PEPNOX6A.css" />

    <script defer src="dist/sidebar_items-F1153462.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-E23W6NAF.js"></script>

    <link rel="stylesheet" href="assets/doc.css">

    
  </head>
  <body>
    <script>(() => {
  // js/constants.js
  var t = "ex_doc:settings", e = "dark";
  var o = "dark", s = "light";

  // js/sidebar/constants.js
  var E = "sidebar_state", n = "closed";
  var r = "sidebar_width";
  var a = "sidebar-open";

  // js/entry/inline_html.js
  var i = new URLSearchParams(window.location.search), S = i.get("theme") || JSON.parse(localStorage.getItem(t) || "{}").theme;
  (S === o || S !== s && window.matchMedia("(prefers-color-scheme: dark)").matches) && document.body.classList.add(e);
  var d = sessionStorage.getItem(E), A = d !== n && !window.matchMedia(`screen and (max-width: ${768}px)`).matches;
  document.body.classList.toggle(a, A);
  var c = sessionStorage.getItem(r);
  c && document.body.style.setProperty("--sidebarWidth", `${c}px`);
  var p = /(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);
  document.documentElement.classList.toggle("apple-os", p);
})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="readme.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="Routex" />
        </a>

      <div>
        <a href="readme.html" class="sidebar-projectName" translate="no">
Routex
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v1.3.2
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras="Pages"></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of Routex</span>
            <div class="search-input-wrapper">
              <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
              <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
                <i class="ri-close-line ri-lg" title="Cancel search"></i>
              </button>
            </div>
          </label>
        </form>
        <div class="autocomplete">
        </div>
        <div class="engine-selector" data-multiple="false">
          <button type="button" class="engine-button" aria-label="Select search engine" aria-haspopup="true" aria-expanded="false">
            <i class="ri-search-2-line" aria-hidden="true"></i>
            <span class="engine-name">Default</span>
            <i class="ri-arrow-down-s-line" aria-hidden="true"></i>
          </button>
          <div class="engine-dropdown" hidden role="menu">

              <button type="button"
                      class="engine-option"
                      data-engine-url="search.html?q="
                      role="menuitemradio"
                      aria-checked="true">
                <span class="name">Default</span>
                <span class="help">In-browser search</span>
              </button>

          </div>
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>Routex Release Notes</h1>

<a href="release_notes.md" title="Copy Markdown (hold Ctrl/Cmd and click it to open as Markdown)" class="copy-markdown icon-action" rel="help">
  <i class="ri-markdown-line" aria-hidden="true"></i>
  <span class="sr-only">Copy Markdown</span>
</a>


      <a href="https://github.com/BartOtten/routex/blob/v1.3.2/RELEASE_NOTES.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


<p>Listing major (minor) releases and their most notable features.</p><h1>Routex v1.3.0 Changelog — Developer Experience Improvements</h1><p>Routex 1.3 focuses once again heavily on improving the developer experience (DX), making installation smoother, configuration clearer, and debugging easier, particularly for projects using internationalization (i18n). This release makes Routex an even more seamless and robust solution for handling advanced routing features, especially localization, within the Phoenix ecosystem.</p><h2 id="quick-setup-with-routex-install" class="section-heading"><a href="#quick-setup-with-routex-install" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Quick Setup with <code class="inline">routex.install</code></span></h2><h3 id="simplified-installation" class="section-heading"><a href="#simplified-installation" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Simplified Installation</span></h3><p>A new task, <code class="inline">mix routex.install</code>, powered by the optional <a href="https://hexdocs.pm/igniter/0.7.1/Igniter.html"><code class="inline">Igniter</code></a> dependency, significantly automates the initial setup process.</p><ul><li>This eliminates the need for manual file editing, speeding up the integration of Routex into new or existing Phoenix projects.</li><li>The task performs configuration steps like setting up aliases and including common Routex extensions.</li></ul><p><strong>Contributors:</strong><br/>Special thanks to @ken-kost for the initial <code class="inline">routex.install</code> commit; not to forget @zachdaniel for Igniter itself. Community support is highly appreciated.</p><h2 id="clearer-error-messaging" class="section-heading"><a href="#clearer-error-messaging" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Clearer Error Messaging</span></h2><p>Routex 1.3 features improved error messaging.</p><ul><li><strong>Actionable Error Reports:</strong> Errors related to route compilation or configuration are now more descriptive, guiding developers to the exact issue and making troubleshooting much faster.</li><li><strong>Refined Fallbacks:</strong> A few fallbacks have been added in order to print helpful error messages when a configuration error is detected. This was particularly useful in scenarios where developers were mid-way through following the usage guide or had disabled extensions without removing related code modifications.</li></ul><h2 id="new-utilities" class="section-heading"><a href="#new-utilities" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">New Utilities</span></h2><p>A new helper function has been added to assist with process dictionary usage:</p><pre><code class="makeup elixir" translate="no"><span class="ss">dispatch_targets</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8791237309-1">[</span><span class="w">
  </span><span class="p" data-group-id="8791237309-2">{</span><span class="nc">Routex.Utils</span><span class="p">,</span><span class="w"> </span><span class="ss">:process_put_branch</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8791237309-3">[</span><span class="p" data-group-id="8791237309-4">[</span><span class="ss">:attrs</span><span class="p">,</span><span class="w"> </span><span class="ss">:__branch__</span><span class="p" data-group-id="8791237309-4">]</span><span class="p" data-group-id="8791237309-3">]</span><span class="p" data-group-id="8791237309-2">}</span><span class="w">
</span><span class="p" data-group-id="8791237309-1">]</span></code></pre><p>This can be used as a dispatch target and will be used by Verified Routes once set. It can help avoid property drilling of the <code class="inline">@url</code> assignment for Verified Routes in components. However, it is still advised to prefer keeping things immutable and simply pass down the <code class="inline">@url</code> assignment to components.</p><h2 id="new-callback" class="section-heading"><a href="#new-callback" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">New Callback</span></h2><p>The <code class="inline">create_shared_helpers/3</code> callback has been introduced.</p><p>This callback is called in the final stage of helper generation and differs from <code class="inline">create_helpers/3</code> in that it is invoked only once per extension with the combined routes of all backends using that extension.</p><h2 id="improved-i18n-l10n-detection" class="section-heading"><a href="#improved-i18n-l10n-detection" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improved i18n / l10n Detection</span></h2><p>The i18n/l10n backend detection process has been improved.</p><ul><li><strong>Smarter Gettext Detection:</strong> The mechanism for detecting localization backends has been refined, allowing Routex to remove a previously required macro and streamline the detection process.</li></ul><h2 id="other" class="section-heading"><a href="#other" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Other</span></h2><ul><li>Added support for using Verified Routes based on <code class="inline">@url</code> assignment.</li></ul><h1>Announcing Routex 1.2.0 – Effortless Phoenix Localization</h1><p>I’m thrilled to announce <strong>Routex 1.2.0</strong>, a major update that brings
zero‑config internationalization (i18n) and and localization (l10n) to your
Phoenix apps. It plugs straight into Cldr, Gettext, or Fluent and eliminates the
boilerplate of manual locale plugs and translation hooks.</p><p><strong> Summary </strong></p><ul><li>Simplified localization</li><li>Comprehensive runtime integration</li><li>Enhanced developer tools</li><li>Community-driven improvements</li></ul><h2 id="1-zero-config-localization-with-multilingual-routing" class="section-heading"><a href="#1-zero-config-localization-with-multilingual-routing" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">1. Zero-Config Localization with Multilingual Routing</span></h2><p>Building multilingual Phoenix sites used to mean scattering locale detection,
LiveView hooks, and dynamic-route logic throughout your code. <strong>Routex 1.2.0</strong>
replaces all that with a single, centralized configuration. Your router stays
clean, localization is applied at compile time, and runtime dispatching
seamlessly handles any additional needs—no extra wiring required.</p><p>The new Localization system is a game-changer automatically detecting your
existing Phoenix localization setup and making everything work out of the box.
Let's see this magic in action with a typical Phoenix application:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># lib/my_app_web/routex_backend.ex</span><span class="w">
</span><span class="kd">defmodule</span><span class="w"> </span><span class="nc">ExampleWeb.RoutexBackend</span><span class="w"> </span><span class="k" data-group-id="7991213040-1">do</span><span class="w">
    </span><span class="kn">use</span><span class="w"> </span><span class="nc">Routex.Backend</span><span class="p">,</span><span class="w">
      </span><span class="ss">extensions</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7991213040-2">[</span><span class="w">
        </span><span class="nc">Routex.Extension.Attrs</span><span class="p">,</span><span class="w">
        </span><span class="nc">Routex.Extension.LiveViewHooks</span><span class="p">,</span><span class="w">
        </span><span class="nc">Routex.Extension.Plugs</span><span class="p">,</span><span class="w">
        </span><span class="nc">Routex.Extension.Localize.Phoenix.Routes</span><span class="p">,</span><span class="w">
        </span><span class="nc">Routex.Extension.Localize.Phoenix.Runtime</span><span class="p">,</span><span class="w">
        </span><span class="nc">Routex.Extension.RuntimeDispatcher</span><span class="w">
      </span><span class="p" data-group-id="7991213040-2">]</span></code></pre><p>Using the sane defaults of the extensions Routex will transforms your routes
based on your Gettext locales (or Cldr, or Fluent). For example, if your Gettext has &quot;en&quot; (default),
&quot;fr&quot;, and &quot;nl&quot; configured, Routex automatically generates:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># Example: Generated Routes</span><span class="w">
</span><span class="c1"># Original route: /products</span><span class="w">
</span><span class="s">&quot;/products&quot;</span><span class="w">          </span><span class="c1"># Default locale (en)</span><span class="w">
</span><span class="s">&quot;/fr/products&quot;</span><span class="w">       </span><span class="c1"># French</span><span class="w">
</span><span class="s">&quot;/nl/products&quot;</span><span class="w">       </span><span class="c1"># Dutch</span></code></pre><p>The magic continues at runtime. Routex automatically:</p><ol><li>Detects the user's preferred language from a variary of sources</li><li>Sets up Gettext with the correct locale</li><li>Maintains the locale across LiveView navigation</li><li>Provides helper functions for switching locales</li></ol><p>Want to customize? No problem! The zero-config setup can be enhanced with
explicit configuration. Here are a few examples:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># lib/my_app_web/routex_backend.ex</span><span class="w">

</span><span class="c1"># Override auto-detected locale settings for route generation</span><span class="w">
</span><span class="ss">locales</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3285087625-1">[</span><span class="s">&quot;en-US&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;fr-FR&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;nl-BE&quot;</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3285087625-2">%{</span><span class="ss">language_display_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;DUTCH&quot;</span><span class="p" data-group-id="3285087625-2">}</span><span class="err">}</span><span class="p" data-group-id="3285087625-1">]</span><span class="p">,</span><span class="w">
</span><span class="ss">default_locale</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;en-US&quot;</span><span class="p">,</span><span class="w">

</span><span class="c1"># Customize URL generation: results in /english, /french, /dutch</span><span class="w">
</span><span class="ss">locale_prefix_sources</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3285087625-3">[</span><span class="ss">:language_display_name</span><span class="p" data-group-id="3285087625-3">]</span><span class="p">,</span><span class="w">

</span><span class="c1"># Customize URL generation: results in &quot;/&quot;, &quot;/world&quot;, &quot;/france&quot;, &quot;/netherlands&quot;, &quot;/belgium&quot;</span><span class="w">
</span><span class="ss">locale_prefix_sources</span><span class="p">:</span><span class="w"> </span><span class="ss">:region_display_name</span><span class="w">

</span><span class="c1"># Customize region detection order: fixed to route attribute, no overrides</span><span class="w">
</span><span class="ss">region_sources</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3285087625-4">[</span><span class="ss">:route</span><span class="p" data-group-id="3285087625-4">]</span><span class="p">,</span><span class="w">

</span><span class="c1"># Customize language detection order</span><span class="w">
</span><span class="ss">language_sources</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3285087625-5">[</span><span class="ss">:query</span><span class="p">,</span><span class="w"> </span><span class="ss">:session</span><span class="p">,</span><span class="w"> </span><span class="ss">:accept_language</span><span class="p">,</span><span class="w"> </span><span class="ss">:route</span><span class="p" data-group-id="3285087625-5">]</span></code></pre><p>The Localize extensions come with a IANA Language Subtags based locale registry
covering common needs. The <code class="inline">language/1</code> and <code class="inline">region/1</code> functions can be used to
translate locale, region and language identifiers to display names. <code class="inline">language?</code>
and <code class="inline">region?</code> validate input.</p><pre><code class="makeup elixir" translate="no"><span class="c1"># single subtag</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Routex.Extension.Localize.Registry</span><span class="o">.</span><span class="n">region</span><span class="p" data-group-id="1931523531-1">(</span><span class="s">&quot;BE&quot;</span><span class="p" data-group-id="1931523531-1">)</span><span class="w">
</span><span class="p" data-group-id="1931523531-2">%{</span><span class="ss">descriptions</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1931523531-3">[</span><span class="s">&quot;Belgium&quot;</span><span class="p" data-group-id="1931523531-3">]</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:region</span><span class="p" data-group-id="1931523531-2">}</span><span class="w">

</span><span class="c1"># double subtag</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Routex.Extension.Localize.Registry</span><span class="o">.</span><span class="n">language</span><span class="p" data-group-id="1931523531-4">(</span><span class="s">&quot;nl-BE&quot;</span><span class="p" data-group-id="1931523531-4">)</span><span class="w">
</span><span class="p" data-group-id="1931523531-5">%{</span><span class="ss">descriptions</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1931523531-6">[</span><span class="s">&quot;Dutch&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Flemish&quot;</span><span class="p" data-group-id="1931523531-6">]</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:language</span><span class="p" data-group-id="1931523531-5">}</span></code></pre><h2 id="2-enhanced-integration-with-other-libraries" class="section-heading"><a href="#2-enhanced-integration-with-other-libraries" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">2. Enhanced integration with other libraries</span></h2><p>For scenarios requiring integration with other third-party libs, Routex 1.2.0
introduces runtime dispatch targets through the
<a href="Routex.Extension.RuntimeDispatcher.html"><code class="inline">Routex.Extension.RuntimeDispatcher</code></a> extension. The dispatch targets are
automatically called using a Plug and Liveviews events using a LiveView
Lifecycle Hook.</p><pre><code class="makeup elixir" translate="no"><span class="ss">dispatch_targets</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8323550147-1">[</span><span class="w">
    </span><span class="c1"># Set Gettext locale using detected :language attribute (this is a default)</span><span class="w">
    </span><span class="p" data-group-id="8323550147-2">{</span><span class="nc">Gettext</span><span class="p">,</span><span class="w"> </span><span class="ss">:put_locale</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8323550147-3">[</span><span class="p" data-group-id="8323550147-4">[</span><span class="ss">:attrs</span><span class="p">,</span><span class="w"> </span><span class="ss">:runtime</span><span class="p">,</span><span class="w"> </span><span class="ss">:language</span><span class="p" data-group-id="8323550147-4">]</span><span class="p" data-group-id="8323550147-3">]</span><span class="p" data-group-id="8323550147-2">}</span><span class="p">,</span><span class="w">

    </span><span class="c1"># Custom dispatch using routes :region attribute</span><span class="w">
    </span><span class="p" data-group-id="8323550147-5">{</span><span class="nc">MyModule</span><span class="p">,</span><span class="w"> </span><span class="ss">:set_region</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8323550147-6">[</span><span class="p" data-group-id="8323550147-7">[</span><span class="ss">:attrs</span><span class="p">,</span><span class="w"> </span><span class="ss">:route</span><span class="p">,</span><span class="w"> </span><span class="ss">:region</span><span class="p" data-group-id="8323550147-7">]</span><span class="p" data-group-id="8323550147-6">]</span><span class="p" data-group-id="8323550147-5">}</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="8323550147-1">]</span></code></pre><h2 id="3-automated-liveview-lifecycle-hooks-and-plugs" class="section-heading"><a href="#3-automated-liveview-lifecycle-hooks-and-plugs" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">3. Automated LiveView lifecycle hooks and plugs</span></h2><p>Two new extensions add support for the detection and auto-enabling of Plugs and
LiveView Livecycle Hooks provided by other extensions. This seamless integration
improves the overall developer experience (DX) by reducing the friction of
additional plug and hook configuration.</p><pre><code class="makeup elixir" translate="no"><span class="c1"># lib/my_app_web/routex_backend.ex</span><span class="w">
</span><span class="ss">extensions</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="4730710371-1">[</span><span class="w">
  </span><span class="nc">Routex.Extension.LiveViewHooks</span><span class="p">,</span><span class="w"> </span><span class="c1">#  detects and enables LiveView Lifecycle callbacks</span><span class="w">
  </span><span class="nc">Routex.Extension.Plugs</span><span class="p">,</span><span class="w">         </span><span class="c1">#  detects and enables Plug calls</span><span class="w">
</span><span class="p" data-group-id="4730710371-1">]</span></code></pre><h2 id="4-a-better-development-experience" class="section-heading"><a href="#4-a-better-development-experience" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">4. A Better Development Experience</span></h2><p>We've completely overhauled the development experience.</p><ul><li>Crystal-clear error messages</li><li>Built-in AST inspection for debugging</li></ul><h4>Clearer Error Messages</h4><p>Configuration issues now trigger clearer error messages. Instead of encountering
a full stacktrace, you receive concise guidance to help pinpoint and resolve
common mistakes. Such as:</p><p>Raised during pre-processing when an extension is missing:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Extension</span><span class="w"> </span><span class="sc">&#39;Routex.Extension.404&#39;</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">found</span><span class="o">.</span></code></pre><p>Or when the <code class="inline">attrs/1</code> helper function is missing:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Routex</span><span class="w"> </span><span class="ss">Error</span><span class="p">:</span><span class="w"> </span><span class="nc">Missing</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">implementation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="err">`</span><span class="n">attrs</span><span class="o">/</span><span class="mi">1</span><span class="err">`</span><span class="o">.</span><span class="w">

       </span><span class="nc">None</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">extensions</span><span class="w"> </span><span class="n">provide</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">implementation</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="err">`</span><span class="n">attrs</span><span class="o">/</span><span class="mi">1</span><span class="err">`</span><span class="o">.</span><span class="w">
       </span><span class="nc">Please</span><span class="w"> </span><span class="n">ensure</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">added</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">that</span><span class="w">
       </span><span class="n">implements</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">function</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">details</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="nc">AttrGetters</span><span class="w"> </span><span class="n">extension</span><span class="p">,</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="ss">documentation</span><span class="p">:</span><span class="w">

       </span><span class="n">https</span><span class="ss">://</span><span class="n">hexdocs</span><span class="o">.</span><span class="n">pm</span><span class="o">/</span><span class="n">routex</span><span class="o">/</span><span class="nc">Routex.Extension.AttrGetters</span><span class="o">.</span><span class="n">html</span></code></pre><h4>AST Inspection Option</h4><p>A new configuration setting allows developers to output the generated code for
inspection. This additional transparency can be valuable for diagnosing issues
with the extension-generated helper functions.</p><pre><code class="makeup elixir" translate="no"><span class="c1"># In config/dev.ex</span><span class="w">
</span><span class="n">config</span><span class="w"> </span><span class="ss">:routex</span><span class="p">,</span><span class="w"> </span><span class="ss">helper_mod_dir</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/tmp&quot;</span></code></pre><p>During compilation, the generated code is saved to your specified directory for review:</p><pre><code class="makeup bash" translate="no"><span class="">Wrote AST of Elixir.ExampleWeb.Router.RoutexHelpers to /tmp/ExampleWeb.Router.RoutexHelpers.ex
</span></code></pre><p>Ready to be inspected.
<code class="inline">cat /tmp/ExampleWeb.Router.RoutexHelpers.ex</code></p><pre><code class="makeup elixir" translate="no"><span class="kd">defmodule</span><span class="w"> </span><span class="nc">ExampleWeb.Router.RoutexHelpers</span><span class="w"> </span><span class="k" data-group-id="8125706264-1">do</span><span class="w">
  </span><span class="na">@moduledoc</span><span class="w"> </span><span class="s">&quot;This code is generated by Routex and is for inspection purpose only</span><span class="se">\n</span><span class="s">&quot;</span><span class="w">

    </span><span class="kn">require</span><span class="w"> </span><span class="nc">Logger</span><span class="w">
    </span><span class="kn">use</span><span class="w"> </span><span class="nc">Routex.HelperFallbacks</span><span class="w">

    </span><span class="na">@doc</span><span class="w"> </span><span class="s">&quot;Returns Routex attributes of given URL</span><span class="se">\n</span><span class="s">&quot;</span><span class="w">
    </span><span class="kd">def</span><span class="w"> </span><span class="nf">attrs</span><span class="p" data-group-id="8125706264-2">(</span><span class="n">url</span><span class="p" data-group-id="8125706264-2">)</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">is_binary</span><span class="p" data-group-id="8125706264-3">(</span><span class="n">url</span><span class="p" data-group-id="8125706264-3">)</span><span class="w"> </span><span class="k" data-group-id="8125706264-4">do</span><span class="w">
        </span><span class="n">url</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Matchable</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="8125706264-5">(</span><span class="p" data-group-id="8125706264-5">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">attrs</span><span class="p" data-group-id="8125706264-6">(</span><span class="p" data-group-id="8125706264-6">)</span><span class="w">
    </span><span class="k" data-group-id="8125706264-4">end</span><span class="w">

    </span><span class="c1"># ... all other helper functions ...</span></code></pre><h2 id="5-improved-reliability-and-performance" class="section-heading"><a href="#5-improved-reliability-and-performance" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">5. Improved Reliability and Performance</span></h2><h3 id="faster-compilation-faster-runtime" class="section-heading"><a href="#faster-compilation-faster-runtime" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Faster compilation, faster runtime</span></h3><p>Several improvements have been made to the Routex pre-processing engine for
better compilation. The revamped processing model brings compile‑time
optimizations, and increases the amount of supported routes to multiple
hundreds.</p><p>Build-in extensions have been recrafted for reduced generated code and enhanced
performance thanks to Elixir’s robust pattern matching and function call
optimizations -ensuring that your app remain both fast and reliable.</p><p>A brief summary of the processed routes is now provided during compilation.</p><pre><code class="makeup elixir" translate="no"><span class="nc">Routex.Processing</span><span class="w"> </span><span class="p">&gt;&gt;</span><span class="w"> </span><span class="nc">Routes</span><span class="w"> </span><span class="p">&gt;&gt;</span><span class="w"> </span><span class="ss">Original</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">Generated</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">Total</span><span class="p">:</span><span class="w"> </span><span class="mi">116</span></code></pre><h3 id="improved-reliability" class="section-heading"><a href="#improved-reliability" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improved Reliability</span></h3><h4>Increased Test Coverage</h4><p>With over 90% test coverage, the core functionality and error-handling paths
have been thoroughly verified. This improvement helps reduce regressions and
ensures better stability.</p><h2 id="community-contributions" class="section-heading"><a href="#community-contributions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Community Contributions</span></h2><p>Welcome to new contributors who have improved the project.</p><p>Krister Viirsaar <strong>reported issues</strong> with setup en especially with the Localize
Phoenix tutorial. The issue is titled &quot;Localization guide is missing step to
content translation (using Gettext)&quot;. Let's say this lengthy release note is
Routex' reply....thanks Krister!</p><p>Niels Ganser and Max Gorin for contributing <strong>fixes to the documentation</strong>. Although
small in size, such contributions make impact. Nobody likes broken links or
incorrect instructions.</p><p>A special thanks to Kenneth Kostrešević -you may recognize his name from the Ash
weekly- as he <strong>spotted and fixed an embarrasing regression</strong> before it was released. His
extra addition to the test suite ensures the issue won't sneak into the codebase
again again.</p><p>Contributions are highly welcome!</p><h2 id="looking-forward" class="section-heading"><a href="#looking-forward" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Looking Forward</span></h2><p>As we continue to evolve Routex, our focus remains steadfast on making Phoenix
route management as effortless as possible. This release marks a significant
step toward that goal, with features that not only make development easier but
also more enjoyable.</p><p>The next grand release will be focussing on even easier setup. Kenneth Kostrešević
has already begon the work to craft a one-command setup using an <strong>Igniter installer</strong></p><h2 id="conclusion" class="section-heading"><a href="#conclusion" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Conclusion</span></h2><p>Routex 1.2.0 sets a new benchmark for Phoenix localization by turning a once
cumbersome process into a streamlined, configuration‑driven experience. Upgrade
today to harness automated locale detection, dynamic routing enhancements, and
an unparalleled developer experience that empowers you to build world‑class
multilingual Phoenix applications—all while reducing boilerplate and enhancing
maintainability.</p><p>Ready to upgrade? Check out our
<a href="https://bartotten.github.io/routex/readme.html">documentation</a> for a smooth
transition to the latest version.</p><p>Happy coding, and enjoy the future of Phoenix localization with Routex 1.2.0!</p><hr class="thin"/><h2 id="tldr-not-your-cup-of-tea-the-localize-suite-in-more-detail" class="section-heading"><a href="#tldr-not-your-cup-of-tea-the-localize-suite-in-more-detail" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">TLDR not your cup of tea? The Localize Suite in more Detail</span></h2><p>As Routex demands &quot;Simple by default, powerful when needed&quot;, it broads not one,
but two extensions for localization.</p><h3 id="1-localize-phoenix-routes" class="section-heading"><a href="#1-localize-phoenix-routes" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">1. Localize.Phoenix.Routes</span></h3><p>Localize Phoenix routes using simple configuration.</p><p>  At compile time, this extension generates localized routes based on locale
  tags. These locale tags are automatically derived from your Cldr, Gettext or
  Fluent setup and can be overriden using the extensions options.</p><p>  #### Notable features</p><ul><li><p><strong>Buildin locale registry</strong>: Locale subtags can be validated and converted to human-friendly display
names using the buildin locale registry based on the authoritive
<a href="https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry">IANA Language Subtag Registry</a>.</p></li><li><p><strong>Automated locale expansion</strong>: At <em>compile time</em> this extension will expand a routes <code class="inline">:locale</code> attribute into multiple attributes such as 
<code class="inline">:language</code> (e.g., &quot;en&quot;) and <code class="inline">:language_display_name</code></p></li><li><p><strong>Locale branch attributes (overrides)</strong>
Assign or override attributes for a specific locale routes branch.
 <strong>Example:</strong></p><pre><code class="makeup elixir" translate="no"><span class="w">  </span><span class="ss">locales</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="4621388873-1">[</span><span class="w">
   </span><span class="c1"># Standard English</span><span class="w">
   </span><span class="s">&quot;en&quot;</span><span class="p">,</span><span class="w">
   </span><span class="c1"># Standard French</span><span class="w">
   </span><span class="s">&quot;fr&quot;</span><span class="w">
   </span><span class="c1"># Language: &quot;English&quot;, Region: &quot;Global&quot; displayed as &quot;Worldwide&quot;</span><span class="w">
   </span><span class="ss">&quot;en-001&quot;</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="4621388873-2">%{</span><span class="ss">region_display_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Worldwide&quot;</span><span class="p" data-group-id="4621388873-2">}</span><span class="p">,</span><span class="w">
   </span><span class="c1"># Language: &quot;English&quot;, Region: &quot;Great Brittain&quot;, Compile time route attributes: %{currency: &quot;GBP&quot;}</span><span class="w">
   </span><span class="ss">&quot;en-GB&quot;</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="4621388873-3">%{</span><span class="ss">currency</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;GBP&quot;</span><span class="p" data-group-id="4621388873-3">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="4621388873-1">]</span></code></pre><blockquote><h4>Attribute Merging Precedence (Compile Time, low to high):</h4><ol><li>Derived from locale string</li><li>Explicit Locale Override (from attrs in tuple)</li><li>Original Branch Attribute (already existing on the branch)</li></ol><p>Point 3 ensures this extension plays well with
pre-configured alternative branches.</p></blockquote><ul><li><strong>Custom route prefixes</strong>
Locale attributes to prefix routes with, supporting the automated expanded locale attributes.</li></ul><p> <strong>Examples:</strong></p><pre><code class="makeup elixir" translate="no"><span class="w">  </span><span class="c1"># in configuration</span><span class="w">
  </span><span class="ss">locales</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8665591459-1">[</span><span class="s">&quot;en-001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;fr&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;nl-NL&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;nl-BE&quot;</span><span class="p" data-group-id="8665591459-1">]</span><span class="w">
  </span><span class="ss">default_locale</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;en&quot;</span><span class="w">

  </span><span class="c1"># single source</span><span class="w">
  </span><span class="ss">locale_prefix_sources</span><span class="p">:</span><span class="w"> </span><span class="ss">:locale</span><span class="w"> </span><span class="p">=&gt;</span><span class="w">     </span><span class="p" data-group-id="8665591459-2">[</span><span class="s">&quot;/&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/en-001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/fr&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/nl/nl&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/nl-be&quot;</span><span class="p" data-group-id="8665591459-2">]</span><span class="p">,</span><span class="w">
  </span><span class="ss">locale_prefix_sources</span><span class="p">:</span><span class="w"> </span><span class="ss">:language</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="8665591459-3">[</span><span class="s">&quot;/&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/fr&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/nl&quot;</span><span class="p" data-group-id="8665591459-3">]</span><span class="p">,</span><span class="w">
  </span><span class="ss">locale_prefix_sources</span><span class="p">:</span><span class="w"> </span><span class="ss">:region</span><span class="w"> </span><span class="p">=&gt;</span><span class="w">     </span><span class="p" data-group-id="8665591459-4">[</span><span class="s">&quot;/&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/nl&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/be&quot;</span><span class="p" data-group-id="8665591459-4">]</span><span class="w">
  </span><span class="ss">locale_prefix_sources</span><span class="p">:</span><span class="w"> </span><span class="ss">:language_display_name</span><span class="w"> </span><span class="p">=&gt;</span><span class="w">     </span><span class="p" data-group-id="8665591459-5">[</span><span class="s">&quot;/&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/english&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/french&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/dutch&quot;</span><span class="p" data-group-id="8665591459-5">]</span><span class="w">
  </span><span class="ss">locale_prefix_sources</span><span class="p">:</span><span class="w"> </span><span class="ss">:region_display_name</span><span class="w"> </span><span class="p">=&gt;</span><span class="w">     </span><span class="p" data-group-id="8665591459-6">[</span><span class="s">&quot;/&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/world&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/france&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/netherlands&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/belgium&quot;</span><span class="p" data-group-id="8665591459-6">]</span><span class="w">

  </span><span class="c1"># with fallback</span><span class="w">
  </span><span class="ss">locale_prefix_sources</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8665591459-7">[</span><span class="ss">:language</span><span class="p">,</span><span class="w"> </span><span class="ss">:region</span><span class="p" data-group-id="8665591459-7">]</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="8665591459-8">[</span><span class="s">&quot;/&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/fr&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/nl&quot;</span><span class="p" data-group-id="8665591459-8">]</span><span class="w">
  </span><span class="ss">locale_prefix_sources</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8665591459-9">[</span><span class="ss">:region</span><span class="p">,</span><span class="w"> </span><span class="ss">:language</span><span class="p" data-group-id="8665591459-9">]</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="8665591459-10">[</span><span class="s">&quot;/&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/fr&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/nl&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/be&quot;</span><span class="p" data-group-id="8665591459-10">]</span><span class="w">
</span></code></pre></li></ul><h3 id="2-localize-phoenix-runtime-advanced-locale-detection" class="section-heading"><a href="#2-localize-phoenix-runtime-advanced-locale-detection" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">2. <strong>Localize.Phoenix.Runtime: Advanced Locale Detection</strong></span></h3><p>Routex 1.2.0 automatically detects the user’s locale from multiple independent
sources:</p><ul><li>Pre-compiled route attributes</li><li>The <code class="inline">Accept-Language</code> header sent by the client (<code class="inline">fr-CH, fr;q=0.9, en;q=0.8, de;q=0.7</code>)</li><li>Query parameters (<code class="inline">?lang=fr</code>)</li><li>Hostname (<code class="inline">fr.example.com</code>)</li><li>Path parameters (<code class="inline">/fr/products</code>)</li><li>Assigns (<code class="inline">assign(socket, [locale: &quot;fr&quot;])</code>)</li><li>Body parameters</li><li>Stored cookie</li><li>Session data</li></ul><p>The extension comes with sane default, but each parameter can be customized to
make locale detection fit your project instead of the other way around. A uniq
multi‑attribute, multi-source approach empowers your application to adapt the
runtime <code class="inline">language</code> and <code class="inline">region</code> using different strategies. This aligns with our
<a href="localization_vs_translation.html">Localization vs Translation advice</a></p><p><strong>Example</strong></p><pre><code class="makeup elixir" translate="no"><span class="c1"># In your Routex backend module; all optional</span><span class="w">
</span><span class="ss">locale_sources</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8601176478-1">[</span><span class="ss">:query</span><span class="p">,</span><span class="w"> </span><span class="ss">:session</span><span class="p">,</span><span class="w"> </span><span class="ss">:accept_language</span><span class="p" data-group-id="8601176478-1">]</span><span class="p">,</span><span class="w"> </span><span class="c1"># Order matters</span><span class="w">
</span><span class="ss">locale_params</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8601176478-2">[</span><span class="s">&quot;locale&quot;</span><span class="p" data-group-id="8601176478-2">]</span><span class="p">,</span><span class="w"> </span><span class="c1"># Look for ?locale=... etc</span><span class="w">

</span><span class="ss">language_sources</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8601176478-3">[</span><span class="ss">:path</span><span class="p">,</span><span class="w"> </span><span class="ss">:host</span><span class="p" data-group-id="8601176478-3">]</span><span class="p">,</span><span class="w">
</span><span class="ss">language_params</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8601176478-4">[</span><span class="s">&quot;lang&quot;</span><span class="p" data-group-id="8601176478-4">]</span><span class="p">,</span><span class="w"> </span><span class="c1"># Look for /:lang/... etc</span><span class="w">

</span><span class="ss">region_sources</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8601176478-5">[</span><span class="ss">:route</span><span class="p" data-group-id="8601176478-5">]</span><span class="w"> </span><span class="c1"># Only use region from precompiled route attributes</span><span class="w">
</span><span class="c1"># region_params defaults to [&quot;region&quot;]</span></code></pre><p>By automating locale detection, Routex helps you eliminate error‑prone manual
setup and significantly reduces development time.</p><h4>Extension Development</h4><p><strong>Provide LiveView Lifecycle Hooks</strong></p><p><a href="Routex.Extension.LiveViewHooks.html"><code class="inline">Routex.Extension.LiveViewHooks</code></a> detects LiveView Lifecycle callbacks and
inlines their bodies. Each callback receives the standard LiveView parameters
after <code class="inline">attrs</code> -containing the current routes' Routex attributes- has been
embedded in the <code class="inline">socket</code>.</p><p><strong>Available Callbacks</strong></p><ul><li><code class="inline">handle_params</code></li><li><code class="inline">handle_event</code></li><li><code class="inline">handle_info</code></li><li><code class="inline">handle_async</code></li><li><code class="inline">after_render</code></li></ul><p><strong>Provide a Plug</strong></p><p><a href="Routex.Extension.Plugs.html"><code class="inline">Routex.Extension.Plugs</code></a> detects <code class="inline">call/2</code> callbacks and inlines their bodies.
The callback receives the standard <code class="inline">Plug.call</code> parameters after <code class="inline">attrs</code>
-containing the current routes' Routex attributes- has been embedded in the
<code class="inline">conn</code>.</p>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="extensions.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Included extensions
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="changelog.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Changelog
        </span>
      </a>

  </div>
</div>
    <footer class="footer">

        <p>

            <span class="line">
              <a href="https://hex.pm/packages/routex/1.3.2">Hex Package</a>

              <a href="https://preview.hex.pm/preview/routex/1.3.2">Hex Preview</a>

                (<a href="https://preview.hex.pm/preview/routex/1.3.2/show/RELEASE_NOTES.md">current file</a>)

            </span>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Go to package docs">
              Go to package docs
            </button>

              <a href="llms.txt" target="_blank">
                View llms.txt
              </a>


              <a href="Routex.epub">
                Download ePub version
              </a>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.40.0) for the

            <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

        </p>


    </footer>
  </div>
</main>
</div>

  </body>
</html>
