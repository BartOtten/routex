<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.40.0">
    <meta name="project" content="Routex v1.3.2">


    <title>Getting started — Routex v1.3.2</title>

    <link rel="stylesheet" href="dist/html-elixir-PEPNOX6A.css" />

    <script defer src="dist/sidebar_items-F1153462.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-E23W6NAF.js"></script>

    <link rel="stylesheet" href="assets/doc.css">

    
  </head>
  <body>
    <script>(() => {
  // js/constants.js
  var t = "ex_doc:settings", e = "dark";
  var o = "dark", s = "light";

  // js/sidebar/constants.js
  var E = "sidebar_state", n = "closed";
  var r = "sidebar_width";
  var a = "sidebar-open";

  // js/entry/inline_html.js
  var i = new URLSearchParams(window.location.search), S = i.get("theme") || JSON.parse(localStorage.getItem(t) || "{}").theme;
  (S === o || S !== s && window.matchMedia("(prefers-color-scheme: dark)").matches) && document.body.classList.add(e);
  var d = sessionStorage.getItem(E), A = d !== n && !window.matchMedia(`screen and (max-width: ${768}px)`).matches;
  document.body.classList.toggle(a, A);
  var c = sessionStorage.getItem(r);
  c && document.body.style.setProperty("--sidebarWidth", `${c}px`);
  var p = /(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);
  document.documentElement.classList.toggle("apple-os", p);
})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="readme.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="Routex" />
        </a>

      <div>
        <a href="readme.html" class="sidebar-projectName" translate="no">
Routex
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v1.3.2
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras="Pages"></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of Routex</span>
            <div class="search-input-wrapper">
              <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
              <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
                <i class="ri-close-line ri-lg" title="Cancel search"></i>
              </button>
            </div>
          </label>
        </form>
        <div class="autocomplete">
        </div>
        <div class="engine-selector" data-multiple="false">
          <button type="button" class="engine-button" aria-label="Select search engine" aria-haspopup="true" aria-expanded="false">
            <i class="ri-search-2-line" aria-hidden="true"></i>
            <span class="engine-name">Default</span>
            <i class="ri-arrow-down-s-line" aria-hidden="true"></i>
          </button>
          <div class="engine-dropdown" hidden role="menu">

              <button type="button"
                      class="engine-option"
                      data-engine-url="search.html?q="
                      role="menuitemradio"
                      aria-checked="true">
                <span class="name">Default</span>
                <span class="help">In-browser search</span>
              </button>

          </div>
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>Usage</h1>

<a href="usage.md" title="Copy Markdown (hold Ctrl/Cmd and click it to open as Markdown)" class="copy-markdown icon-action" rel="help">
  <i class="ri-markdown-line" aria-hidden="true"></i>
  <span class="sr-only">Copy Markdown</span>
</a>


      <a href="https://github.com/BartOtten/routex/blob/v1.3.2/USAGE.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


<h2 id="requirements" class="section-heading"><a href="#requirements" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Requirements</span></h2><ul><li>Elixir &gt;=1.11</li><li>Phoenix &gt;= 1.6.0</li><li>Phoenix LiveView &gt;= 0.16 (optional)</li></ul><h2 id="adding-routex-to-your-project" class="section-heading"><a href="#adding-routex-to-your-project" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Adding Routex to your project</span></h2><p>You can install this library by adding it to your list of dependencies in
<code class="inline">mix.exs</code>. (use <code class="inline">mix hex.info routex</code> to find the latest version):</p><pre><code class="diff">def deps do
  [
     ...other deps
+    {:routex, &quot;~&gt; 1.0&quot;}
  ]
end</code></pre><p>Next run:</p><pre><code class="makeup bash" translate="no"><span class="">mix deps.get
</span></code></pre><h2 id="quick-config-using-igniter" class="section-heading"><a href="#quick-config-using-igniter" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Quick config using Igniter</span></h2><p>Routex includes an <a href="https://hexdocs.pm/igniter/readme.html">Igniter</a> install
task that automates the setup process, eliminating the need for manual file
editing.</p><p>You can install Igniter adding it to your list of dependencies in
<code class="inline">mix.exs</code>. (use <code class="inline">mix hex.info igniter</code> to find the latest version):</p><pre><code class="diff">def deps do
  [
     ...other deps
     {:routex, &quot;~&gt; 1.0&quot;},
+    {:igniter, &quot;~&gt; 0.6&quot;}
  ]
end</code></pre><p>Even though Igniter handles the installation automatically, it's recommended to
review the rest of this page to understand how Routex works and how you can
customize it to fit your specific needs.</p><pre><code class="makeup bash" translate="no"><span class="">mix deps.get
</span><span class="">mix routex.install
</span></code></pre><h2 id="manual-config" class="section-heading"><a href="#manual-config" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Manual config</span></h2><p>Modify the entrypoint of your web interface definition.</p><pre><code class="diff"># file: lib/example_web.ex

# in router
+  use Routex.Router  # always before Phoenix Router
   use Phoenix.Router, helpers: false

# in controller
   unquote(verified_routes())
+  unquote(routex_helpers())

q
# in live_view
      unquote(html_helpers())
+     on_mount(unquote(__MODULE__).Router.RoutexHelpers)

# in view_helpers or html_helpers
   unquote(verified_routes())
+  unquote(routex_helpers())

# insert new private function
+  defp routex_helpers do
+    quote do
+      import Phoenix.VerifiedRoutes,
+        except: [sigil_p: 2, url: 1, url: 2, url: 3, path: 2, path: 3]
+
+      import unquote(__MODULE__).Router.RoutexHelpers, only: :macros
+      alias unquote(__MODULE__).Router.RoutexHelpers, as: Routes
+    end
+  end</code></pre><h2 id="configuration" class="section-heading"><a href="#configuration" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Configuration</span></h2><p>To use <a href="Routex.html"><code class="inline">Routex</code></a>, a module that calls <code class="inline">use Routex.Backend</code> (referred to below as a
&quot;backend&quot;) has to be defined. It includes a list with extensions and
configuration of extensions.</p><p>Too speed up setup all extensions are included in the configuration below.</p><pre><code class="makeup elixir" translate="no"><span class="c1"># file /lib/example_web/routex_backend.ex</span><span class="w">

</span><span class="kd">defmodule</span><span class="w"> </span><span class="nc">ExampleWeb.RoutexBackend</span><span class="w"> </span><span class="k" data-group-id="9210757100-1">do</span><span class="w">
 </span><span class="kn">use</span><span class="w"> </span><span class="nc">Routex.Backend</span><span class="p">,</span><span class="w">
   </span><span class="ss">extensions</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="9210757100-2">[</span><span class="w">
     </span><span class="c1"># required</span><span class="w">
     </span><span class="nc">Routex.Extension.AttrGetters</span><span class="p">,</span><span class="w">

     </span><span class="c1"># adviced</span><span class="w">
     </span><span class="nc">Routex.Extension.LiveViewHooks</span><span class="p">,</span><span class="w">
     </span><span class="nc">Routex.Extension.Plugs</span><span class="p">,</span><span class="w">
     </span><span class="nc">Routex.Extension.VerifiedRoutes</span><span class="p">,</span><span class="w">
     </span><span class="nc">Routex.Extension.Alternatives</span><span class="p">,</span><span class="w">
     </span><span class="nc">Routex.Extension.AlternativeGetters</span><span class="p">,</span><span class="w">
     </span><span class="nc">Routex.Extension.Assigns</span><span class="p">,</span><span class="w">
     </span><span class="nc">Routex.Extension.Localize.Phoenix.Routes</span><span class="p">,</span><span class="w">
     </span><span class="nc">Routex.Extension.Localize.Phoenix.Runtime</span><span class="p">,</span><span class="w">
     </span><span class="nc">Routex.Extension.RuntimeDispatcher</span><span class="w">

     </span><span class="c1"># optional</span><span class="w">
     </span><span class="c1"># Routex.Extension.Translations,  # when you want translated routes</span><span class="w">
     </span><span class="c1"># Routex.Extension.Interpolation, # when path prefixes don&#39;t cut it</span><span class="w">
     </span><span class="c1"># Routex.Extension.RouteHelpers,  # when verified routes can&#39;t be used</span><span class="w">
     </span><span class="c1"># Routex.Extension.Cldr,          # when combined with the Cldr ecosystem</span><span class="w">
   </span><span class="p" data-group-id="9210757100-2">]</span><span class="p">,</span><span class="w">
   </span><span class="ss">assigns</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="9210757100-3">%{</span><span class="ss">namespace</span><span class="p">:</span><span class="w"> </span><span class="ss">:rtx</span><span class="p">,</span><span class="w"> </span><span class="ss">attrs</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="9210757100-4">[</span><span class="ss">:locale</span><span class="p">,</span><span class="w"> </span><span class="ss">:language</span><span class="p">,</span><span class="w"> </span><span class="ss">:region</span><span class="p" data-group-id="9210757100-4">]</span><span class="p" data-group-id="9210757100-3">}</span><span class="p">,</span><span class="w">
   </span><span class="ss">verified_sigil_routex</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~p&quot;</span><span class="p">,</span><span class="w">
   </span><span class="ss">verified_url_routex</span><span class="p">:</span><span class="w"> </span><span class="ss">:url</span><span class="p">,</span><span class="w">
   </span><span class="ss">verified_path_routex</span><span class="p">:</span><span class="w"> </span><span class="ss">:path</span><span class="p">,</span><span class="w">
   </span><span class="ss">dispatch_targets</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="9210757100-5">[</span><span class="w">
     </span><span class="p" data-group-id="9210757100-6">{</span><span class="nc">Gettext</span><span class="p">,</span><span class="w"> </span><span class="ss">:put_locale</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9210757100-7">[</span><span class="p" data-group-id="9210757100-8">[</span><span class="ss">:attrs</span><span class="p">,</span><span class="w"> </span><span class="ss">:runtime</span><span class="p">,</span><span class="w"> </span><span class="ss">:language</span><span class="p" data-group-id="9210757100-8">]</span><span class="p" data-group-id="9210757100-7">]</span><span class="p" data-group-id="9210757100-6">}</span><span class="w">
     </span><span class="c1"># {Routex.Utils, :process_put_branch, [[:attrs, :__branch__]]}</span><span class="w">
   </span><span class="p" data-group-id="9210757100-5">]</span><span class="w">
</span><span class="k" data-group-id="9210757100-1">end</span></code></pre><h2 id="preprocess-routes-with-routex" class="section-heading"><a href="#preprocess-routes-with-routex" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Preprocess routes with Routex</span></h2><p><a href="Routex.html"><code class="inline">Routex</code></a> will preprocess any route found inside a <code class="inline">preprocess_using</code> block,
either directly or nested in other blocks such as <code class="inline">scope</code>.</p><p><code class="inline">preprocess_using</code> receives the backend module name as the first argument. This
allows the use of distinct backends per <code class="inline">preprocess_using</code> block (e.g. to use
different extensions for admin routes)</p><pre><code class="diff"># file: router.ex
  pipeline :browser do
      [..]
      plug :put_secure_browser_headers
      plug :fetch_current_user
+     plug :routex
  end

+ preprocess_using ExampleWeb.RoutexBackend do
    scope &quot;/&quot;, ExampleWeb do
      pipe_through [:browser, :redirect_if_user_is_authenticated]
      # [...routes...]
    end

    scope &quot;/&quot;, ExampleWeb do
      pipe_through [:browser, :require_authenticated_user]
      # [...routes...]
    end
+ end</code></pre><h2 id="configuring-individual-extensions" class="section-heading"><a href="#configuring-individual-extensions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Configuring individual extensions</span></h2><p>In the configuration above, a number of extensions are enabled with sensible
defaults to help you get started quickly. Don’t worry though; they’re all highly
customizable, so you can adjust them to fit your needs.</p><p>Each extension focuses on a single feature and comes with its own documentation
that explains how to set it up and use it. If you’d like a quick overview along
with links to the docs for each extension, check out
the <a href="extensions.html">Extensions Overview</a>.</p><section role="note" class="admonition warning"><h4 class="admonition-title warning">Broken paths?</h4><p>The <a href="extensions.html#verified-routes">Verified Routes extension</a> is
configured to act as drop-in replacements. As a result you might have to
rename some <code class="inline">~p</code> sigils (verified route paths) in (h)eex templates to <code class="inline">~o</code>
where the default <em>non-branching</em> behaviour is required.</p></section><h2 id="help" class="section-heading"><a href="#help" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Help?</span></h2><p>When you run into issues, please have a look at the
<a href="troubleshooting.html">Troubleshooting</a> guide and
<a href="https://elixirforum.com/tag/routex">Elixir Forum</a></p>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="changelog.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Changelog
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="localize_phoenix.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Localize Phoenix
        </span>
      </a>

  </div>
</div>
    <footer class="footer">

        <p>

            <span class="line">
              <a href="https://hex.pm/packages/routex/1.3.2">Hex Package</a>

              <a href="https://preview.hex.pm/preview/routex/1.3.2">Hex Preview</a>

                (<a href="https://preview.hex.pm/preview/routex/1.3.2/show/USAGE.md">current file</a>)

            </span>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Go to package docs">
              Go to package docs
            </button>

              <a href="llms.txt" target="_blank">
                View llms.txt
              </a>


              <a href="Routex.epub">
                Download ePub version
              </a>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.40.0) for the

            <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

        </p>


    </footer>
  </div>
</main>
</div>

  </body>
</html>
